\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage[english,russian]{babel}
\usepackage{amssymb, amsmath}

%\usepackage{indentfirst}
%\usepackage{misccorr}
%\usepackage{graphicx}

\begin{document}
	
	%Это небольшая презентация интересных мне тем, я старался писать максимально подробно и простым языком, если будет необходимость это все конечно можно будет подсократить. 
	
	Все знают что такое Киндр-сюрприз. Киндр-сюрприз - это шоколадное яйцо с игрушкой внутри. Представим что Киндер выпустили новую коллекцию игрушек, всего в этой коллекции 10 игрушек. Представим так же, что мы хотим собрать все 10 игрушек, мы сталкиваемся с такой трудностью, что покупка происходит вслепую, мы не знаем какая игрушка в яйце, пока не купим и не откроем его. Мы вынужденны покупать яйца до тех пор, пока не окажется, что нам попалась каждая игрушка хотя бы один раз. Нас может заинтересовать следующий вопрос: сколько нужно купить яиц что бы гарантированно собрать всю коллекцию? Так как мы имеем дело со случайностью, мы ничего не можем гарантировать с вероятностью $100\%$ точно, но мы понимаем, что с увеличением числа покупок наша уверенность растет, пусть для начала наша задача требует уверенности $90\%$, или $n\%$. 
	
	Может случиться так, что нам хватит 10-ти покупок, для этого нужно что бы при каждой новой покупке нам попадалась новая игрушка. Допустим так и случилось. Тогда из комбинаторики мы знаем что могли сделать эти покупки $10!$ способами. Всего таких способов существует $10^{10}$ (10 покупок и неограниченное количество игрушек 10 разных типов). Тогда вероятность что нам повезет уложиться в 10 покупок равна:
	\begin{equation}
	P(10,10)=\frac{10!}{10^{10}}
	\label{f1}
	\end{equation}
	Вероятность $P(n,m)$  отражает нашу уверенность в том, что мы соберем всю коллекцию из $n$ игрушек за $m$ покупок. Естественно, что $m\geqslant n$, иначе у нас не будет никаких шансов собрать всю коллекцию. Для произвольных $m$ и $n$, если $n=m$ вероятность находится 
	аналогично (\ref{f1})
	\begin{equation}
	P(n,n)=\frac{n!}{n^{n}}.
	\end{equation}
	
	Перейдем теперь к математической формулировке задачи. Поставим в соответствие каждой игрушке цифру от $1$ до $n$, тогда каждой серии наших гипотетических покупок будет соответствовать кортеж из $m$ цифр. Нас интересуют такие кортежи, в которых каждое число встречается хотя бы по одному разу, это наше \textit{требование} к кортежам. Если кортеж удовлетворяет \textit{требованию} будем называть его правильным. Когда мы выясним чему равно число правильных кортежей (будем обозначать их количество $T(n,m)$), то легко сможем найти $P(n,m)$
	 \begin{equation}
	 P(n,m)=\frac{T(n,m)}{n^{m}}.
	 \end{equation}
	 
	 Найдем рекуррентное выражение для $T(n,m)$. Каждый кортеж длины $m$ содержит в себе кортеж длины $m-1$. Этот укороченный кортеж либо уже правилен либо нет. Правильных кортежей длины $m-1$  всего $T(n, m-1)$, из каждого получится $n$ правильных кортежей длины $m$, то есть всего из них получится $nT(n, m-1)$ кортежей длины $m$. Рассмотрим теперь кортежи длины $m-1$ не удовлетворяющие \textit{требованию}, они могут не подходить нам из-за того, что им не хватает одного числа, двух чисел и т. д. Из тех кортежей, которым не хватает одного числа, могут быть получены подходящие нам кортежи длины $m$, для каждого из $n$ чисел их будет $T(n-1,m-1)$, и всего $nT(n-1, m-1)$. Кортежи, которым не хватает больше чем одного числа никак не могут быть дополнены до правильных кортежей длины $m$.  Складывая количество правильных кортежей, которые дадут эти взаимоисключающие случаи окончательно получим
	\begin{equation} 
	T(n, m) = nT(n, m-1)+ nT(n-1, m-1).
	\label{f1}
	\end{equation}
	
	Формула (\ref{f1}) имеет достаточно простой вид и возможно может быть сведена к аналитической (может ли?), но ради интереса можно получить для нее другое выражение.
	
	Мы знаем что суммарное число правильных и неправильных кортежей равно $n^m$. Будем выкидывать из этого множества неправильные кортежи. Если мы выберем произвольные $i$ числа так, что  $0<i<n$, то они дадут $T(i,m)$ последовательностей, которые нам точно не подходят нам, кроме того, $i$ числа можно выбрать $C_n^i$ способами, то есть всего будет $C_n^iT(i,m)$ неправильных кортежа. Все эти кортежи нужно выкинуть для всех  $i$ из заданного промежутка. Таким образом мы получим, что
	\begin{equation} 
	T(n, m) = n^m-\sum \limits_{i=1}^{n-1}C_n^iT(i,m) .
	\label{f2}
	\end{equation}
	

	 
	
\end{document}
